<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Experience â€¢ UnseenRealm</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- MAPLIBRE GL -->
  <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet" />
  <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>

  <link rel="stylesheet" href="styles.css" />

  <style>
    #addMap {
      width: 100%;
      height: 260px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.1);
      margin-bottom: 1rem;
      overflow: hidden;
    }
  </style>
</head>

<body class="theme-dark">

  <!-- NAV -->
  <header class="nav">
    <div class="logo">Unseen<span>Realm</span></div>
    <nav id="navLinks"></nav>
  </header>

  <!-- PAGE -->
  <main class="auth-page">
    <section class="auth-card">
      <h1>Share a Hidden Spot</h1>
      <p class="muted tiny">Place a marker on the map to set exact location.</p>

      <!-- LIVE MAP PICKER -->
      <div id="addMap"></div>

      <!-- FORM -->
      <form id="addExperienceForm" class="auth-form">

        <div class="field">
          <label for="expTitle">Title</label>
          <input id="expTitle" type="text" required placeholder="Rooftop chai with sea view" />
        </div>

        <div class="field">
          <label for="expCity">City</label>
          <input id="expCity" type="text" required placeholder="Vizag" value="Vizag" />
        </div>

        <div class="field">
          <label for="expDescription">Short Description</label>
          <input id="expDescription" type="text" required placeholder="Why should someone visit this place?" />
        </div>

        <div class="field">
          <label for="expTags">Tags (comma separated)</label>
          <input id="expTags" type="text" placeholder="food, sunset, chai" />
        </div>

        <div class="field">
          <label for="expMood">Mood</label>
          <select id="expMood" class="select full-width">
            <option value="chill">Chill</option>
            <option value="social">Social</option>
            <option value="adrenaline">Adrenaline</option>
            <option value="budget">Budget</option>
          </select>
        </div>

        <div class="field">
          <label for="expRating">Rating (0â€“5)</label>
          <input id="expRating" type="number" min="0" max="5" step="0.1" value="4.5" />
        </div>

        <!-- LAT LNG AUTOFILLED -->
        <div class="field">
          <label>Map Coordinates (auto-filled)</label>
          <div style="display:flex; gap:0.7rem;">
            <div class="field">
              <label>Lat</label>
              <input id="expLat" type="number" step="0.000001" required readonly placeholder="Click on map">
            </div>
            <div class="field">
              <label>Lng</label>
              <input id="expLng" type="number" step="0.000001" required readonly placeholder="Click on map">
            </div>
          </div>
          <p class="muted tiny">Tap anywhere on map to place marker.</p>
        </div>

        <button type="submit" class="btn-primary full-width" style="margin-top:1rem;">
          Publish Experience
        </button>

      </form>

      <p id="addExpStatus" class="muted tiny" style="margin-top:0.8rem; min-height:1em;"></p>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <p>Your contribution helps others explore the unseen realm ðŸš€</p>
  </footer>

  <!-- FIREBASE -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyA7qrQeypEYFhKCvQjM-5PaMaYpTFJZ-mk",
      authDomain: "unseenrealm-b43d9.firebaseapp.com",
      projectId: "unseenrealm-b43d9",
      storageBucket: "unseenrealm-b43d9.firebasestorage.app",
      messagingSenderId: "893669581410",
      appId: "1:893669581410:web:ebfdbdeacc27dced73673b",
      measurementId: "G-6PH9HCPP9K"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>

  <!-- Your app logic (map + form saving) -->
  <script src="app.js"></script>

</body>
</html>
